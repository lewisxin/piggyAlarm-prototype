<!--
  Generated template for the Coupon page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>My Coupon</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <ion-list no-lines>
    <template ngFor let-coupon let-i="index" [ngForOf]="couponList">

      <ion-card>
        <img src="assets/img/{{coupon.img}}" />

        <ion-card-content>
          <ion-card-title>
            {{coupon.title}}
          </ion-card-title>
          <h2 style="font-size:1.2rem; font-weight:200">@ {{ coupon.location }}</h2>
          <h2 style="font-size:1.2rem; font-weight:200">
            <ion-icon style="font-size:inherit" name="ios-time-outline" showWhen="ios"></ion-icon>
            <ion-icon style="font-size:inherit" name="md-time" showWhen="android, windows"></ion-icon>
            Expires at {{coupon.expire | date:'dd/MM/yyyy HH:mm'}}
          </h2>
          <h4 style="margin-top:10px">
            {{coupon.description}}
          </h4>
        </ion-card-content>

        <ion-row no-padding>
          <ion-col text-left>
            <button ion-button clear small color="danger" icon-left (click)="deleteCoupon(coupon, i)">
              <ion-icon name='trash'></ion-icon>
              Delete
            </button>
          </ion-col>
          <ion-col text-center>
            <button ion-button clear small color="primary" icon-left>
              <ion-icon name='share-alt'></ion-icon>
              Share
            </button>
          </ion-col>
          <ion-col text-right>
            <button ion-button clear small color="primary" icon-left (click)="redeemCoupon(coupon)">
              <ion-icon name='barcode'></ion-icon>
              Redeem
            </button>
          </ion-col>
        </ion-row>
      </ion-card>
    </template>
  </ion-list>
  <ion-grid *ngIf="!couponList || couponList.length == 0">
    <ion-row style="transform:translate(0,50%)"> 
      <ion-col col-3 class="center-horizontal">
        <img src="assets/img/giftbox-empty.png" />
      </ion-col>
      <ion-col col-12> 
        <h5 class="empty-state-label">Opps! Your giftbox is empty</h5>
        <h5 class="empty-state-label">Get up early next time to unlock your breakfast coupons!</h5>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>